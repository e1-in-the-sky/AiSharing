<ion-card class="cardclick" (click)="goToReservationDetail()">
  <ion-card-content>
    <div style="display: flex; vertical-align: middle">
      <!-- アイコン部分 -->
        <ion-item lines="none" style="--ion-background-color: transparent;">
          <ion-avatar  slot="start" (click)="goToAccountDetail($event)">
            <ion-img [src]="user.imageURL"></ion-img>
          </ion-avatar>
          <ion-label>
            <!-- <h2 (click)="goToAccountDetail()" style="display: inline-block;">{{user.name}}</h2> -->
            <p class="newline_text">{{reservation.comment}}</p>
          </ion-label>
        </ion-item>
      
      <!-- ここまで -->

      <!-- 人数カウント -->
      <div style="vertical-align: middle; min-width: 25%;" *ngIf="reservation.passenger_count != reservation.max_passenger_count; else max_passenger">
        <ion-icon style="vertical-align: middle;" name="people"></ion-icon>
        <ion-label>{{reservation.passenger_count}}/</ion-label>
        <ion-label style="vertical-align: middle; font-size: 30px;" color="danger">{{reservation.max_passenger_count}}</ion-label>
      </div>
      <ng-template #max_passenger style="vertical-align: middle; min-width: 25%;">
        <ion-icon name="people" style="vertical-align: middle"></ion-icon>
        <ion-label style="font-size: 30px; vertical-align: miggle;" color="danger">
          {{reservation.passenger_count}}/{{reservation.max_passenger_count}}
        </ion-label> 
      </ng-template>
      <!-- ここまで -->
    </div>

    <div style = "padding-left: 5%;">
      <ion-chip style="pointer-events: none" *ngIf="reservation?.onlywoman" color="primary"><ion-label>女性限定</ion-label></ion-chip>
      <ion-chip style="pointer-events: none" *ngIf="reservation?.bigluggage" color="primary"><ion-label>大きい荷物有り</ion-label></ion-chip>
    </div>
    
    <!-- 出発時刻 -->
    <ion-icon style="padding-left: 4%; vertical-align: middle" name="time"></ion-icon>
    <ion-label style="vertical-align: middle;">{{reservation.departure_time | timestamp2string}}</ion-label>
    <div><ion-label style="padding-left: 5%;" *ngIf="errors?.alreadyDeparted" color="danger">すでに出発予定時刻を過ぎた投稿です!</ion-label></div>
  
    <!-- ここまで -->
    
    <!-- 出発地，目的地部分 -->
    <div style="padding-left: 5%; padding-top: 2%;">
      <div style="display: flex;">
        <div class="place_icon"><img src="../../../assets/img/place_start.png"></div>
        <div class="place_text">{{reservation.departure_name}}</div>
      </div>
      <div class="center-loc"><p class="taxi_move_logo"><img src="../../../assets/img/taxi_move_logo.png" ></p></div>
      <div style="display: flex;">
        <div class="place_icon"><img src="../../../assets/img/place_goal.png"></div>
        <div class="place_text">{{reservation.destination_name}}</div>
      </div>  
    </div>

    <ion-label style="padding-left: 5%; padding-top:1%;">最安値：{{reservation.fare/reservation.max_passenger_count | number: '1.0-0'}}円</ion-label><br>
    <ion-label *ngIf="isShowTime" style="padding-left: 5%; padding-top:1%">移動時間:{{reservation.total_time}}</ion-label>
    <ion-label *ngIf="isShowDistance" style="padding-left: 5%; padding-top:1%">移動距離:{{reservation.total_distance}}</ion-label>
    <!-- ここまで -->

    <!-- <div class="lr-around detail_and_norimasu"> -->
    <!-- 詳細ボタン -->
    <!-- <ion-button fill="clear" size="small" class="discription_button" (click)="goToReservationDetail(reservation.uid)">詳細</ion-button> -->
    <!-- <div class="norimasu_outfilter">
      <img (click)="goToReservationDetail()" src="../../../assets/img/description.png" class="description_button" ontouchstart="">
    </div> -->
    <!-- ここまで -->

    <!-- <div class="wrapper">
      <a class="fancy-button bg-gradient1"><span (click)="goToReservationDetail()">詳細</span></a>
      <a href="#" class="fancy-button bg-gradient2"><span><i class="fa fa-envelope"></i>Messages</span></a>
    </div> -->
    
    <div *ngIf="isShowNorimasu">
    <!-- ノリマスボタン -->
    <!-- <div class="norimasu"> -->
      <div *ngIf="reservation?.passenger_count === reservation?.max_passenger_count; else conditionIsNotFull">
        <ion-button color=danger shape="round" fill="outline" expand="full" style="pointer-events: none">
          <p style="color:red; font-size: 12px;">満員御礼</p>
        </ion-button>
        
        <!-- <div class="norimasu_padding"><ion-img src="../../../assets/img/full.png"></ion-img></div>
        <p class="norimasu_button">
        <img src="../../../assets/img/full.png">
        </p> -->
      </div>

      <ng-template #conditionIsNotFull>
        <div *ngIf="reservation?.condition === '募集終了'; else conditionIsRecruiting">
        <ion-button color=danger shape="round" fill="outline" expand="full" style="pointer-events: none">
          <p style="color:red; font-size: 12px;">募集終了</p>
        </ion-button>
          <!-- <p class="norimasu_button">
          <img src="../../../assets/img/reserve_finish.png">
          </p> -->
        </div>
      </ng-template>

      
      
      <ng-template #conditionIsRecruiting>
        <!-- <p float-right class="norimasu_button" (click)="displayNorimasuAlert()" color="ion-color-light-tint"> -->
        <!-- <p class="norimasu_button" (click)="displayNorimasuAlert()"> -->
        <ion-button color=primary shape="round" fill="outline" expand="full" (click)="displayNorimasuAlert()">
          <!--  fill="outline" class="norimasu_button" -->
          <p style="color:black; font-size: 12px;">ノリマス</p>
          <img class="buruburu" src="../../../assets/img/norimasu_2.png">
        </ion-button>
        <!-- <img class="norimasu_button buruburu" (click)="displayNorimasuAlert()" src="../../../assets/img/norimasu_2.png"> -->
        <!-- <p style="font-size:30px; line-height: 80px;">ノリマス</p> -->        
        <!-- </p> -->
        <!-- <button type="submit"><img src="../../../assets/img/norimasu.png"></button> -->
      </ng-template>
      
    <!-- </div> -->
    </div>
    
    
    <!-- </div> -->
    
    
  </ion-card-content>
</ion-card>


<!-- <ion-text class="ion-float-right" color="yellow"></ion-text> -->      
<!-- <div> -->
<!-- <p><ion-icon color="danger" name="pin"></ion-icon>{{reservation.departure_name}}-----<ion-icon large name="logo-model-s"></ion-icon>-----
<ion-icon color="danger" name="pin"></ion-icon>{{reservation.destination_name}}</p> -->
<!-- <div class="padding"> -->